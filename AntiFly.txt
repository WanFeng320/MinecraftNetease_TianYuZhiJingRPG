/summon falling_block ~ ~1.5 ~ {Time:1,Block:"minecraft:redstone_block",Motion:[0d,-1d,0d],Passengers:[{id:falling_block,Time:1,Block:"minecraft:activator_rail",Passengers:[{id:commandblock_minecart,Command:"blockdata ~ ~-2 ~ {auto:0b,Command:\"\"}"},{id:commandblock_minecart,Command:"gamerule commandBlockOutput false"},{id:commandblock_minecart,Command:"scoreboard objectives add antifly.doubt dummy"},{id:commandblock_minecart,Command:"scoreboard objectives add time dummy"},{id:commandblock_minecart,Command:"scoreboard objectives add antiHack.flytest dummy"},{id:commandblock_minecart,Command:"setblock ~2 ~-1 ~ repeating_command_block 1 replace {Command:\"scoreboard players tag @a add elytra {Inventory:[{Slot:102b,id:\\\"minecraft:elytra\\\"}]}\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~0 ~ repeating_command_block 1 replace {Command:\"scoreboard players add antifly time 1\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~1 ~ repeating_command_block 1 replace {Command:\"execute @a[tag=!elytra] ~ ~ ~ execute @s[tag=!op] ~ ~ ~ detect ~ ~-1 ~ air * scoreboard players add @s antiHack.flytest 1\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~2 ~ repeating_command_block 1 replace {Command:\"scoreboard players test antifly time 1200\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~3 ~ chain_command_block 9 replace {Command:\"scoreboard players reset * antiHack.flytest\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~4 ~ chain_command_block 9 replace {Command:\"scoreboard players set antifly time 0\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~5 ~ chain_command_block 9 replace {Command:\"scoreboard players tag @a remove elytra\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~6 ~ repeating_command_block 1 replace {Command:\"scoreboard players add @a[score_antiHack.flytest_min=1000] antifly.doubt 1\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~7 ~ chain_command_block 1 replace {Command:\"scoreboard players tag @a[score_antiHack.flytest_min=1000] add doubt.fly\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~8 ~ chain_command_block 1 replace {Command:\"scoreboard players set @a[score_antiHack.flytest_min=1000] antiHack.flytest 0\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~9 ~ chain_command_block 1 replace {Command:\"execute @a[tag=!op,tag=doubt.fly] ~ ~ ~ tellraw @a [{\\\"text\\\":\\\"「antiHack」\\\",\\\"color\\\":\\\"light_purple\\\",\\\"bold\\\":true,\\\"italic\\\":false,\\\"underlined\\\":false,\\\"strikethrough\\\":false,\\\"obfuscated\\\":false},{\\\"text\\\":\\\"合理怀疑玩家\\\",\\\"color\\\":\\\"yellow\\\",\\\"bold\\\":true,\\\"italic\\\":false,\\\"underlined\\\":false,\\\"strikethrough\\\":false,\\\"obfuscated\\\":false},{\\\"selector\\\":\\\"@a[tag=doubt.fly]\\\",\\\"color\\\":\\\"blue\\\",\\\"bold\\\":true,\\\"italic\\\":false,\\\"underlined\\\":false,\\\"strikethrough\\\":false,\\\"obfuscated\\\":false},{\\\"text\\\":\\\"使用第三方工具进行了飞行\\\\n\\\",\\\"color\\\":\\\"yellow\\\",\\\"bold\\\":true,\\\"italic\\\":false,\\\"underlined\\\":false,\\\"strikethrough\\\":false,\\\"obfuscated\\\":false},{\\\"text\\\":\\\"Reason:\\\",\\\"color\\\":\\\"green\\\",\\\"bold\\\":true,\\\"italic\\\":false,\\\"underlined\\\":false,\\\"strikethrough\\\":false,\\\"obfuscated\\\":false},{\\\"text\\\":\\\"antiHack.flytest≥1000\\\",\\\"color\\\":\\\"green\\\",\\\"bold\\\":true,\\\"italic\\\":false,\\\"underlined\\\":false,\\\"strikethrough\\\":false,\\\"obfuscated\\\":false}]\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~2 ~10 ~ chain_command_block 1 replace {Command:\"scoreboard players tag @a remove doubt.fly\",auto:1b}"},{id:commandblock_minecart,Command:"setblock ~ ~1 ~ command_block 0 replace {auto:1b,Command:\"fill ~ ~ ~ ~ ~-2 ~ air\"}"},{id:commandblock_minecart,Command:"kill @e[type=commandblock_minecart,r=1]"}]}]}